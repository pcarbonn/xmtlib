(set-option :backend none)

(declare-datatype Color  ( (red) (blue) (green) ))
(declare-datatype Material ( (soft) (hard) ))
(declare-datatype Either (par (T) ( (nil) (Left (b T)) (Right (b T)) )))

(declare-fun p ((Either Color)) Bool)
;(declare-fun q ((Either Material)) Color)
(x-interpret-pred p (x-set ((as nil (Either Color))) ((Left blue)) ((Right red))))
(assert (p (Right red)))
(assert (p nil))
(assert (not (p (Left red))))
(assert ((_ is nil) nil))
(assert ((_ is Left) (Left blue)))
(x-ground debug:)
(x-debug db tables)
(x-debug db Sort_8)
(x-debug solver polymorphic_sorts)
(x-debug solver sorts)
(x-debug solver functions)
(x-debug db _xmt_p_G)
(x-debug db _xmt_sort_7_left_tester_g)
(x-debug solver groundings)
(check-sat)
-------------------------
(declare-datatype Color ((red ) (blue ) (green )))
(declare-datatype Material ((soft ) (hard )))
(declare-datatype Either (par (T) ((nil ) (Left (b T)) (Right (b T)))))
(declare-fun p ((Either Color)) Bool)
****** Database Error: FOREIGN KEY constraint failed
